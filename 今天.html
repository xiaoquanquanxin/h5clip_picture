<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>女神节</title>
    <link rel="icon" href="https://pre.ih5.cn/favicon.ico" type="image/x-icon">
    <style>
        .main-img-cl {
            margin: auto;
        }

        html, body {
            margin: 0;
            padding: 0;
            background-color: #F0DFDF;
        }

        ul, li {
            list-style-type: none;
            padding: 0;
        }

        .title-info {
            width: 274px;
            margin: auto;
            padding: 6px 0;
            color: #575757;
            line-height: 22px;
            font-size: 14px;
        }

        .red {
            color: red;
        }

        .ti10 {
            text-indent: 10px;
            display: inline-block;
        }

        .fs18 {
            font-size: 18px;;
        }

        .fl {
            float: left;
        }

        .fr {
            float: right;
        }

        .clear::after {
            display: block;
            content: '';
            clear: both;

        }

        .title-info img {
            width: 100%;
            display: block;
        }

        .position-relative {
            position: relative;
        }

        .search-wrap {
            width: 273px;
            margin: 10px auto;
        }

        .search-wrap img {
            width: 100%;
            display: block;
        }

        #contestantNumberInput {
            margin: 0;
            padding: 0;
            display: block;
            position: absolute;
            border: none;
            outline: none;
            height: 26px;
            top: 5px;
            left: 60px;
        }

        .search-wrap svg {
            position: absolute;
            right: 10px;
            top: 7px;
            cursor: pointer;
            width: 20px;
            height: 20px;
        }
    </style>
    <!--选项卡-->
    <style>
        #tab-controller {
            width: 84%;
            margin: 22px auto;
            border-radius: 6px;
            overflow: hidden;
            color: white;
            line-height: 36px;
        }

        #tab-controller li {
            width: 33.33%;
            box-sizing: border-box;
            text-align: center;
            background-color: #dfbbbb;
            color: #322a2a;
            font-size: 14px;
        }

        .border-right {
            border-right: 1px solid #dedede;
        }

        #tab-controller .active-tab {
            background-color: #ce495b;
            color: #f5c6cc;
        }

        #tab-content {
            width: 94%;
            margin: 10px auto;
        }

        #tab-content li {
            float: left;
            width: 48%;
            background-color: white;
            overflow: hidden;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        #tab-content li:nth-child(2n-1) {
            margin-right: 4%;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active-tab-content {
            display: block;
        }


    </style>
    <style>
        #tab-content-2 {
            margin: 0 -3%;
            font-size: 14px;
        }

        #tab-content-2 form {
            background-color: white;
        }

        #tab-content-2 li {
            width: 100%;
            border-top: 1px solid #ececec;
            border-radius: 0;
            margin-bottom: 0;
        }

        #tab-content-2 label {
            padding: 14px 12px;
            display: block;
        }

        #tab-content-2 span {
            display: block;
            color: #565656;
        }

        #tab-content-2 input, #tab-content-2 select {
            border: none;
            outline: none;
            display: block;
            text-align: right;
            background-color: white;
        }
    </style>

    <style>
        #uploadImg {
            height: 210px;
            position: relative;
            overflow: hidden;
        }

        /*input file*/
        #uploadFile {
            /*position: absolute;*/
            /*z-index: +3;*/
            /*width: 10px;*/
            /*height: 10px;*/
            /*top: 0;*/
            /*left: 0;*/
            /*margin: auto;*/
            /*right: 0;*/
            /*bottom: 0;*/
            /*overflow: hidden;*/
        }

        /*图片*/
        #productImage {
            width: 21%;
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            margin: auto;
            right: 0;
            bottom: 0;
            z-index: +2;
            background-color: white;
        }

        #uploadBtn {
            position: relative;
            margin: 46px auto;
            display: block;
            border: none;
            background-color: #ce495b;
            color: #f5c6cc;
            width: 190px;
            line-height: 40px;
            border-radius: 5px;
            font-size: 16px;
        }
    </style>

    <!--图片列表,两个选项卡都一样-->
    <style>
        .tab-list img {
            display: block;
            width: 100%;
        }

        .tab-list-content {
            position: relative;
            padding: 4px 0 8px;
        }

        .tab-list-content p {
            position: absolute;
            width: 100%;
            line-height: 30px;
            background-color: rgba(0, 0, 0, 0.5);
            top: -30px;
            margin: 0;
            z-index: +1;
            color: white;
            font-size: 10px;
            text-align: center;
        }

        .tab-list-content div {
            font-size: 12px;
            padding: 2px 8px;
            width: 80%;
        }

        .tab-list-content .heart-img {
            display: block;
            width: 12px;
            position: absolute;
            right: 10px;
            bottom: 12px;
        }
    </style>

    <!--myAlert的样式-->
    <style>
        #mask {
            position: fixed;
            background: rgba(30, 29, 29, 0.4);
            width: 100%;
            height: 100%;
            /*top:0;*/
            bottom: 0;
            left: 0;
            display: none;
            z-index: +9999;
        }

        #maskText {
            position: absolute;
            top: 0;
            left: 0;
            margin: auto;
            bottom: 0;
            right: 0;
            background-color: white;
            width: 250px;
            line-height: 30px;
            height: 100px;
            text-align: center;
            overflow: hidden;
            border-radius: 5px;
            z-index: +99999;
        }

        #maskText span {
            display: block;
        }
    </style>


    <style>
        #container {
            width: 100%;
            margin: auto;
            position: absolute;
            background-color: #F0DFDF;
            z-index: +1111;
            left: 0;
            top: 0;
            height: 100%;
            display: none;
        }

        #subContainer {
            position: absolute;
            width: 90%;
            top: 0;
            left: 5%;
            height: 100%;
        }

        #picContainer {
            width: 100%;
            position: relative;
            top: 10px;
        }

        #mainPic {
            width: 100%;
            display: block;
            margin: auto;
            position: relative;
        }

        #mmask {
            width: 100%;
            height: 100%;
            position: absolute;
            opacity: 0.55;
            background-color: white;
            top: 0;
        }

        .moveHandle {
            width: 33%;
            height: 33%;
            left: 33%;
            top: 33%;
            position: absolute;
        }

        #moveHandle {
            overflow: hidden;
        }

        .handle {
            background-color: #f5c4c4;
            opacity: 1;
            position: absolute;
            z-index: +1;
        }

        .top-handle, .bottom-handle {
            width: 100%;
            height: 2px;
        }

        .right-handle, .left-handle {
            width: 2px;
            height: 100%;
        }

        .top-handle {
            top: 0;
        }

        .left-handle {
            left: 0;;
        }

        .bottom-handle {
            bottom: 0;
        }

        .right-handle {
            right: 0;
        }

        #cutPic {
            background-image: none;
            background-size: 100%;;
            position: absolute;
            z-index: 0;
            left: 0;
            top: 0;
        }

        /*四角*/
        .top-center {
            top: -1em;
            top: 0
        }

        .bottom-center {
            bottom: -1em;
            bottom: 0
        }

        .right-center {
            right: -1em;;
            right: 0
        }

        .left-center {
            left: -1em;
            left: 0
        }

        .corner {
            width: 3em;
            height: 3em;
            position: absolute;
            z-index: +2;
            background-color: rgba(16, 188, 0, 0.5);
        }

        .move-subject {
            width: 100%;
            height: 100%;
            position: absolute;
            z-index: +1;
        }

        #container button, #container input {
            width: 48%;
            margin: 34px auto 0;
            display: block;
            border: none;
            background-color: #dfbbbb;
            color: #322a2a;
            font-size: 16px;
            font-weight: bold;
            line-height: 36px;
            border-radius: 6px;
            outline: none;
        }

        #fileBtn {
            position: absolute;
            /*top: 55px;*/
            /*left: 11px;*/
            top: -111px;
            left: -111px;
        }

        #container [type="file"] {
            /*display: block;*/
            display: none;
        }

        #canvas {
            display: block;
            margin: auto;
            width: 100%;
            display: none;
        }
    </style>


    <style>
        #container #nextBtn {
            background-color: #ce495b;
            color: #f5c6cc;
        }
    </style>
</head>
<body>
<div class="position-relative">
    <ul class="title-info">
        <li>活动时间:2019年3月20日至3月29日</li>
        <li>报名截止日期:2019年3月29日</li>
        <li>投票截止日期:2019年3月29日</li>
        <li>活动规则:每人限投稿3次，每天限投5票</li>
        <li style="height:20px;overflow: hidden;">
            <img class="" alt=""
                 src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUYAAAAlCAYAAAA+wECwAAAPkElEQVR4nO2cfZCVVR3HP965s27bti7EbORsRESKmKSG5Eu+K6EWTm+ivahlSA6ZMlZkTDnJOFRmaomGhYkpWVYqWSn0QiZWjmahohIQEZUSqay00bYt/fE9vznnnnuee+8ue03rfGeeufuc5zzn9Xe+5/dynt3tt2RkPK8xCngKGPhvN+R5gDIahzwWTUapCWXuCexV8Gx/YKfLUwvlYWhHd3RfcvU3ggnAg8CBQdr3gZsafL+dXevDEcAHgJYo/XzgFmB8nfc769TfCowccuuGhkOB0UN473bgSUSQjSAesyK0D6INHwT+hfpQD+OBp4ETo/RWV8bZDZQxFXiI6nU0DfgLcFQDZYSYiGSiEYwBVgBvTDzrAP4JHFenjMuBg4P7EtXz0pp4r8tdg+GlDpogy80gxu8B30EdL6PFYIOyw/3+OcjfCbQF9x8H1lO5ECYCY9Gk2TUWEViKAE4E/kilcB6HyG5aA314BxLKHnc/1pX18wbeBS2OfwDb0CKJr2dd24twHnAJMA71z4SoxbXt0+6+RFrgF6NFuLPg+gewqMG+DAXtwIepJPC7gC818G4J399RwBRgAbA1ytNGeu7vorjf4bWtsa4Aktsy8JsG8m5Fc7I5Su9zZfyygTK60BiujdLfBPQC9zRQRoifAasazLvZ1Z+aq14kgxvrlHEKlVrtFESosQzGm9OFaBP8N43Noc3j4kY6NhgMh2YWYx7wQ7SwFwGPowE1wQCRA0jA24H3ATe4tG8D84GFwAyX9mOKtY3dE2lzgTuBHwRpy4E1wCHuWS2c5tqzzt3PBJ4AfoRIOWx7J9WCOoD6+laqF0g36s8O0hgLTEeL4DG0G/4tyvMudwF8BglUiO1oHC8oqOMyNCfNQj+a0/cBB6GxaEdyUQ/jkcyEuMxdMY5HcxJiJl7OikzOc4EzE+ldaMN6BsmrvW+yNyZIKyNy7gRWoj6Dn1f7Pd/9bne/05E21unafl+iHWOp7lcZEc4lQV0ll96XKMMwHm0ws2rkMbQhubjAtaE9eHcbXpGahWTyJcA3gIej9/uQUtGKxusZ9/wQ5BYZh2TBxsQwz9UdzttO4JXAJqQdbgN2i9rcqJXQMJpBjHcCdyBzeQMwAnV0O17oR7i8LWjwnwreXwdc794f6Z69Bg14OGB7ubJioZiKTNEj0aDG+JS7DLOAa4P7I5CGepa7bwXejxbH7wr6vFtB+jo0oSFswRQt2gsRKd+NtB/bDU04QjwI/L2gnO2J/OGzZlgLhh3AGcCv0HyY5rOmgXdNFmZTTQ6GicCt+AUXYl0iLcZf8eQS4mBkuhfh0YL0PdBaagnKHYlk5iS0eG3eT3Z/d6D1ERLj6cA1eF/iKa7MNwCTEHFf6S7D1WisijAV2AIsq5EHV08sSxcBb0FW3BV4mRnl2ng+8FM8MYbv21jNQP3tRxp3qBCUXXqrS+9FpPkAsiptjaygUrF6CG8tvR4pLcOKZhAjaDANCxCx7MAP7NP43W4tcAB+kEA7en9wH+8sRWhF/g3QYO2NBnQHGuQngcNdnabFbInKMC3LzP15aMJmur9fFeRtQwIew/o5nmpfSneUJ8R70OI4By2QN6KxAPhDIj9IW4nRiTSTMwveAWmUzcBkNF89SFvswfurepHW1era2EE1+dlGt5lqU9LQGuUdLtyJSK6XSuI8HVhC9QZovrMdyHUQEtYv0AZ/fJC2E5FYSksE9afNtcGwzdVxCXAxIivDo1RuDlPQ2IdtfzuSkXGJ+swlscGV8wr3fgfadOfjLYs5Lv+HXfoGRIzhHByL1tNdeCtrC9Iq76Fam17v+nYhGitcfZ145WknGsNQY9wPbRJPUmx57RKGkxi7ENP3IBI6FqnjK9AuPIAWxVfwJrL5k45BhLEIDXQHIkvz6ZiKXg+XR/ephbWFajI0TEaEYhgPfAwRVUrD6C1oVxlN2K1Ua4Yl/AKIcQgaj4Xu+Vy84L800QYT7BizEaGG5mD4TjmRPlxYQbGjPz4E8QTw8oK87aQ3HWqk27NOqi2MEC8uSO9z10j3ftGiMzO6J8iz1F0DyMzcz5U1zuUzAulwl5FqGb8JW1nm2zZc6cpdEKV34t1SIA29CKfUeHYkslDM7XOZa9N1pAm1CD9xv31Ic1/rypqCFBLDJsQB+yJf+PLgmQVSQmsvVgrCZ6kgzi5jOInxKcTsI5Gjtw+p3OPc37aoZ+Od8iZgTyDz0fyMO6kUymepb/pNRhG/w/GO5lb3nmmMtVBCAvgtvBDNC9r2Ltde8zGaxmm7Yoj7gRclyifRjlKQtgRFnSchU/4LKBLaQ6W7wVCmcg6nufZYf2sJTQnNzyi8QA8HXo3aG5L4Laj9oZ/rUrQhFqHREwAxTqexIE9MPiHWkyb3cEGuQQvbYMEhI+0+NB+hFgnaOELcjHzaUCyjlyIyOQ5p2LY2OqnUGPdAGp+Vcxka4wOCPKsQAZpy0kblXJ2JLLx3UrkBhX1fX9DOEB1oPS4AHnHtCqPsjyETPHavbEQytIX6lmI7TfKVDycx9qPOGnH0ouDHVjQZqR28BWkMKSEN85aAE5D6bpiANFHTJu93ee4N8lxDtTn5gPttQzvVCe5+GjrOMwNPjDMRsZvgdFO9e52BJ/Sz0UIISb0FaZyrkXkSI/Rx3oeI6hbXrn7k8+xAm4NpKbi0Hcj3M8+lNRLcSKHIRzoUxAQ+EngzCkSF6ErkDXEyxX6xSVRrn4ZetPBfV6Psi6h9bMb8gAcjGQllcTIi7fkF75qrZBGyjkbgrSjDTmAfpJWl1uDT0f0a1KfbXZkX408rhGMYrqMu1MfTgrRRrk9hWkgs73Hlg4hxPjohAd6P+jdEtBuojux34gNLphxtpjhqPJdqYuxFvlmzulIoI/l/hvoR8iGhGT5GM9PMdOhxaXtE+Sx4UmvnDrGBStN4I/AyKgcvVMlBx1oW4P0uT6IJ34RIJtyRfgAcRmUUuT9RZ+hjjLXYPiSsR7r7DqQhhCbX3kH+x6l2Ri8GvuraNgV4t3t2GFoYVv/v0QKfgyfGUGNY4uqPCSlsuwW/mokL0JgeiMZ+pmvfaCqP4MTowm+yMWqdgzXfdC3SneOuItyNSOJKKjeuVjQHP0KaXoiDkSvHjmHNQ0QUk5zBghOpUwUjgr9NU+t1bV7i2mOElgpAgbTFZ1xfDO93aakN5xjg68BHkYY6z9Vn8tGDl/ceqtftRKQZmhIxx7VzAFlxpaAtneg8ZtHGtxhtMEWH2c0FdyGyqoYdzSDGFvykjcZ37PeJfPXQRvEi6KPYV2jYmEiLCTZEI+fUQtixnIHgHrxzvSNIt2dFdYOif9ORyfQRtAAnUH3kJ0RIbKGwjkd+ntRheztSsYUmOa8dXov6cQbqw6ddG+egea01Fl+p8WxX0Yh/9Ubk870cycWvURChjUqNy7AV+ZSvRWS4FVlQhyENdzkijQ4UVT0ejX8RsaXwbbS5hNp20furkAX0RxTY+CYikktJz/lKvPVzKZKP2XiiLzKljSzXIFK9EQWeluOVo3OQLByAxv4CtEYei9ow1vVrn4I+xWhDYwH1uWBQaCYx7o+iU+bL2DfKNwFv1qYwCQlarSMez/UnUmOpPgJ0G8Va2WBxB+rLncj/chMixzIyk7vwG0w3XiuIUUbEOBaZ4jG6kcvhyMSzUfgzkkuprdXVQjc67L8Mr12dhd+sxgB/qvH+UE3pweAYavtXZyPN5IeIGCcCR5Mek3XA56jc8J9CG8JPgfci/7VtZJuovTEUwdbTpKCOFL7sriOQ9rcKEeLSgvwDeJdQCPNTvwKtazOlN6NjT2Hw7/MFZc9F2uQnUHT6Y6Rl70Ea/0InxPXozOywoVnE2IYOMd+D1x7jiFm9aNI3kQ/mGvS1Ryr4ciDa0c+ievfZVcT1lZAwvD64bydNyqalpaKnRZ9LgjST3yBSORUtqHtRH08gbUp/MlFOP3IzFOFxis9+7YkPGKxkaMQ4FfgampP3Bum28LrQ2BSdswSNQdFYDSZSWoQWNJ43I/M+hVZEKKciLX4Z9Y8IxacENiEt6nhEjLXWnMlc6vxtDLOk6s1PCxrLte7vh5Dv8AoaO+60Dvlrn8DLugUDX0d6DuO1sxlZCYtdnV8k/QXQvnir56NITpfij0udB1zl2v8Acn8Z3wwrmkGMR+HPJl2FV8X3C/K0IY0mtevb4evlyL9m/0BgGpXR5XZkmh1KJQGVgucTqI5Id+MPi5p2uzFqG1QTt6XXUtmt7vjLDTsiU/QM9/wupAmMRMGkRYgoW1y+EvWj8/XQhrS1O3axnBgtyA0wC5HIVchkChffiahvp6E5SZ3ns/4tbKDO1Fj0I633KKRNpzauDmQ2tuPNwhLaaLuQZniY68d2JMubgc+iDel+5C9b78q/HsnZoXgNPazX/KrvQFp8PYTBsJ1BP0sokDWA175TkdsxSBue5fp0retDv/ud757NoVgrtzq3o8AheBm2kxSro3c68d87m69xT+SvPQ+5scro2/NxSFlai2R8IxobC36uRP55s3xCPIpiBwvRnFxR0IchoxnEeDUiNRs0U43b8ZN4CtKCvpt4f4Mr41y8cF2NBiI+p9iHzlqFC8xMmclo4HrwAYmNaNcyompDGtlJwfsdUTlheq3zc+E7e7h6RyMncxjk2B0fpLkVH0XvR361Hci8C/2F3a7uG9xvLxq7d9IYwbWjIyxlRLwtru4UVqNDwd9hcF8U9CENbyRytqe+5x2N5nC1a3vqKxUbwxlIw0phClpUKT/1vYjEVlBbvrejMfyiux9AZPkhtBkvd/fL8Iv8NrRBz0DuhtHIfDSfXRkdxL6NSk3K5HgMIqalpP3f1h/7EqQVkXv4ieOxSIO6j2oXzlRkaXUiwrkZjXPoo77I5fmG+/teKrVOk9OUFmbPiszdE5H7Z61r/48RQW9ESsx1Lt/bkCVhkf2D3O9a19+j8RbgI4hcVyIX0wDSwG9GUfd6n/cOCbvlfzvWdBiRpQ6IP5e4BhHXarQoir6+AB0NqmVi/q+iBWkojXy6CFqwW/FasUVLm/kdej1MR8rFw3Xy2TfGgwn+1EMXUkh+goix290vo1hz3wtp4M8rZGLMSGECw++zzch4waCZ/0gg44WLTIoZ/9fIxJiRkZERIRNjRkZGRoRMjBkZGRkRMjFmZGRkRMjEmJGRkREhE2NGRkZGhEyMGRkZGREyMWZkZGREyMSYkZGRESETY0ZGRkaETIwZGRkZETIxZmRkZETIxJiRkZERIRNjRkZGRoRMjBkZGRkRMjFmZGRkRMjEmJGRkREhE2NGRkZGhEyMGRkZGRH+AyRI3BUkH7VTAAAAAElFTkSuQmCC"
            ></li>
        <li class="clear">
            <div class="fl">作品数量: <span class="red ti10 fs18" id="worksNumber"></span></div>
            <div class="fr">投票总数: <span class="red ti10 fs18" id="totalVotesNumber"></span></div>
        </li>
    </ul>
    <div class="search-wrap position-relative" id="contestantNumber">
        <img id="contestantNumberSearchButton"
             src="data:image/png;base64,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">
        <input type="text" id="contestantNumberInput" class="ti10" placeholder="请输入选手编号">
        <svg fill="#707070" stroke="#000000" stroke-width="0" viewBox="0 0 100 100" id="clearContestantNumberInput">
            <path d="M74.3,94.7 M70.6,67l-6.3,6.3L50,59.1L35.7,73.3L29.4,67l14.2-14.3L29.4,38.5l6.4-6.4L50,46.3l14.2-14.2l6.4,6.4L56.4,52.7L70.6,67z"></path>
        </svg>
    </div>
    <ul id="tab-controller" class="clear fs18">
        <li class="fl border-right active-tab" data-tab="0">最新上传</li>
        <li class="fl border-right" data-tab="1">排行榜</li>
        <li class="fl" data-tab="2">我要投稿</li>
    </ul>
    <div id="tab-content">
        <ul class="tab-list clear tab-content active-tab-content" id="tab-content-0">
            <!--<li>-->
            <!--<img src="./static/image/photo-6.png" alt="">-->
            <!--<div class="tab-list-content">-->
            <!--<p>最美女神(15-39岁)</p>-->
            <!--<div class="clear"><span class="fl">名字</span><span class="fr">编号:99</span></div>-->
            <!--<div class="clear"><span class="fl">票数:1000</span><span class="fr">广州赛区</span></div>-->
            <!--<img class="heart-img" src="./static/image/heart-0.png" alt="">-->
            <!--</div>-->
            <!--</li>-->
        </ul>
        <ul class="tab-list clear tab-content" id="tab-content-1">
            <!--<li>-->
            <!--<img src="./static/image/photo-6.png" alt="">-->
            <!--<div class="tab-list-content">-->
            <!--<p>最美女神(15-39岁)</p>-->
            <!--<div class="clear"><span class="fl">名字</span><span class="fr">编号:99</span></div>-->
            <!--<div class="clear"><span class="fl">票数:1000</span><span class="fr">广州赛区</span></div>-->
            <!--<img class="heart-img" src="./static/image/heart-0.png" alt="">-->
            <!--</div>-->
            <!--</li>-->
        </ul>
        <div class="tab-content" id="tab-content-2">
            <form id="uploadForm" action="">
                <ul class="clear">
                    <li><label class="clear"><span class="fl">姓名</span><input type="text" class="fr form-input"
                                                                              data-msg="请填写姓名"
                                                                              name="peopleName"
                                                                              placeholder="请输入您的姓名"></label></li>
                    <li><label class="clear"><span class="fl">联系方式</span><input type="text" class="fr form-input"
                                                                                data-msg="请填写联系方式"
                                                                                name="peoplePhone"
                                                                                placeholder="请输入您的联系方式"></label></li>
                    <li><label class="clear"><span class="fl">所属赛区</span>
                        <select class="fr form-input"
                                data-msg="请选择所属赛区"
                                name="peopleArea">
                            <option value="">请选择</option>
                            <option value="1">广州赛区</option>
                            <option value="2">遵义赛区</option>
                            <option value="3">中山赛区</option>
                        </select>

                    </label></li>
                    <li><label class="clear"><span class="fl">所属女神</span><select class="fr form-input"
                                                                                 data-msg="请选择所属女神"
                                                                                 name="peopleType">
                        <option value="请选择">请选择</option>
                        <option value="前世女神(0-15岁)">前世女神(0-15岁)</option>
                        <option value="最美女神(15-39岁)">最美女神(15-39岁)</option>
                        <option value="资深女神(40岁及以上)">资深女神(40岁及以上)</option>
                    </select></label></li>
                    <li><label class="clear"><span class="fl">艺术特长</span><input type="text" class="fr"
                                                                                data-msg="请输入艺术特长"
                                                                                name="peopleSpecial"
                                                                                placeholder="请输入艺术特长"></label></li>
                    <li>
                        <div id="uploadImg">
                            <img id="productImage" src="./static/shangchaun.png" data-src="./static/shangchaun.png"
                                 alt="">
                            <input type="hidden" name="peopleImage" class="form-input" data-msg="请选择图片">
                        </div>
                    </li>
                </ul>
            </form>
            <button id="uploadBtn" type="button">上传作品</button>
        </div>
    </div>
</div>

<!--上传图片-->
<div id="container">
    <div id="subContainer">
        <button id="fileBtn"><input id="fileInput" type="file" accept="image/*"/>选择图片</button>
        <div id="picContainer">
            <img id="mainPic" src="" alt="">
            <div id="mmask"></div>
            <div class="moveHandle">
                <div class="handle top-handle" handle="top"></div>
                <div class="handle right-handle" handle="right"></div>
                <div class="handle bottom-handle" handle="bottom"></div>
                <div class="handle left-handle" handle="left"></div>

                <div class="corner top-center left-center" corner="top-left" move="move"></div>
                <div class="corner top-center right-center" corner="top-right" move="move"></div>
                <div class="corner bottom-center left-center" corner="bottom-left" move="move"></div>
                <div class="corner bottom-center right-center" corner="bottom-right" move="move"></div>
            </div>
            <div class="moveHandle" id="moveHandle">
                <img src="" id="cutPic" alt="">
                <div class="move-subject" subject="subject" move="move"></div>
            </div>
        </div>
        <img id="canvasPic" src="" alt="" style="display: none;">
        <button id="nextBtn" class="fr">完成</button>
        <button id="back" class="fl">返回</button>
        <button id="rotate" class="fl">旋转</button>
        <canvas id="canvas"></canvas>
    </div>
</div>
<div id="mask">
    <div id="maskText">
        <span style="line-height:65px;"></span>
        <hr style="margin:0;">
        <span style="color:red">确定</span>
    </div>
</div>
<script src="static/common.js"></script>
<script src="./static/jquery-v3.1.0.min.js"></script>
<!--声明-->
<script>
	var $document = $(document);
	var $window = $(window);

	/****
	 * 选择图片部分
	 * ***/
		//  上传的那个input的value，是个base64
	var myUploadUrl = '';


	//  点击上传图片或横屏拍照的那个图片
	var $productImage = $('#productImage');
	//  点击上传图片或横屏拍照的那个图片所在div
	var $uploadImg = $('#uploadImg');

	//  整个图片的container
	var $container = $('#container');
	//  图片所在form
	var $uploadForm = $('#uploadForm');
	//  图片裁剪页面里唯一input，type=file，触发change事件,会在页面返回到form表单页面时候被重绘
	var fileInput = document.getElementById('fileInput');

</script>
<!--测试使用-->
<script>
	//    $.aj = $.ajax;
	//    $.ajax = function () {
	//        var arg = [].slice.call(arguments);
	//        var random = Math.random() * 1000 * 5;
	//        console.log(random);
	//        setTimeout(function () {
	//            findOneAjax = $.aj.apply(null, arg);
	//        }, random);
	//    }
</script>
<!--展示列表各种ajax-->
<script>
	//防止重复点赞
	var isClick = true;
	//    var interfaceUrl = "https://hachiapp-dev.pujiapp.com/api";
	//    var interfaceUrl = "https://hachiapp-beta.hachi-tech.com/api";
	//     var interfaceUrl = "https://hachiapp.hachi-tech.com/api";
	var interfaceUrl = './json/';

	var limitHeight = $window.height();
	var timer = null;
	var isResponse = true;
	//  修复极端网络下ajax执行回调的bug
	var findOneAjax = null;
	//  查找按钮
	$('#contestantNumberInput').on('keyup', function (e) {
		isResponse = false;                                             //  无论如何，不能滚动
		if (findOneAjax) {
			findOneAjax.abort();
		}
		findOneAjax = $.ajax({
			url: interfaceUrl + "/findOne",
			url: interfaceUrl + "findOne.json",                             //  monk数据，发版需注释
//			url: interfaceUrl + "findOneError.json",                             //  monk数据，发版需注释
			type: "post",
			data: {
				peopleCode: $(this).val()
			},
			success: function (res) {
				if (!res.data) {
					return false;
				}
				var activeTab = $('.active-tab-content.tab-list');
				var content = "";
				var peopleArea = "";
				var peopleType = "";
				var item = res.data;
				switch (item.peopleArea) {
					case 1:
						peopleArea = "广州赛区";
						break;
					case 2:
						peopleArea = "遵义赛区";
						break;
					case 3:
						peopleArea = "中山赛区";
						break;
					default:
						peopleArea = "";

				}
				switch (item.peopleType) {
					case 1:
						peopleType = "前世女神(0-15岁)";
						break;
					case 2:
						peopleType = "最美女神(15-39岁)";
						break;
					case 3:
						peopleType = "资深女神(40岁及以上)";
						break;
					default:
						peopleType = "";
				}
				var image = '';
				if (item.peopleImage == "") {
					image = './static/image/aa.png'
				} else {
					image = item.peopleImage;
				}
				if (item == '') {
					content = '';
				} else {
					content = '<li data-type="findone"><div style="width:100%;height: ' + $(window).width() * 0.45 * 1.24 + 'px;overflow: hidden"><img  class="main-img-cl"  src="' + image + '" alt=""></div>' +
						'<div class="tab-list-content"><p>' + peopleType + '</p>' +
						'<div class="clear"><span class="fl">名字:' + (item.peopleName ? item.peopleName : "") + '</span><span class="fr">编号:' + (item.id ? item.id : "") + '</span></div>' +
						'<div class="clear"><span class="fl votesss">票数:' + (item.peopleNum ? item.peopleNum : 0) + '</span><span class="fr">' + peopleArea + '</span></div><img class="heart-img" src="./static/image/heart-0.png" onclick="chooseNum(this , ' + item.id + ')"></div></li>';
				}
				activeTab.html(content);
				activeTab.find('.main-img-cl').one('load', function (e) {
					var productImage = $(e.target);
					var imgWidth = productImage.width();
					var imgHeight = productImage.height();
					var winWidth = productImage.parents('li').width();
					var winHeight = winWidth * 1.24;
					if (imgWidth / winWidth < imgHeight / winHeight) {
//                        var h = Math.max(imgHeight, winHeight);
//                        h = Math.min(h, winHeight);
//                        productImage.css('height', h);
//                        productImage.css('width', 'auto');
					} else {
						//  扁平图
						var w = Math.max(imgWidth, winWidth);
						w = Math.min(w, winWidth);
						productImage.css('width', w);
						productImage.css('height', 'auto');
					}
					setTimeout(function () {
						var div = productImage.parent('div');
//                        if (productImage.height() < div.height()) {
						productImage.css('margin-top', (div.height() - productImage.height()) / 2);
						if (findOneAjax) {
							findOneAjax.abort();
						}
//                        }
					}, 0)
				});
			},
		});
	});

	//  tab切换
	$('#tab-controller').on('click', function (e) {
		if (e.target.tagName.toLowerCase() !== 'li') {
			return false;
		}
		isResponse = false;
		$(document).scrollTop(0);
		$('#tab-controller>li').removeClass('active-tab');
		var $target = $(e.target);
		$target.addClass('active-tab');
		var index = $target.data('tab');
		var $activeTabContent = $('#tab-content-' + index);
		$('.active-tab-content').removeClass('active-tab-content');
		$activeTabContent.addClass('active-tab-content');
		$('#contestantNumberInput').val('');
		if (index === 2) {
			$productImage.attr("src", $productImage.data("src"));
			$productImage.css({'width': '21%', 'height': 'auto'});
			$("#uploadFile").val("");
			$('#mainPic').attr('src', '');
			$('input[name=peopleImage]').val();
			return;
		}
		if (findOneAjax) {
//			console.log(findOneAjax)
			findOneAjax.abort();
		}
		//  如果这个以前是一张findOne的图片,就清空了吧
		if ($activeTabContent.find('li').eq(0).attr('data-type') === 'findone') {
			$activeTabContent.html('');
		}
		//  这是为了解决网速较差时,回调执行顺序的bug,正确的做法应该做网速测试
//        $activeTabContent.html('');

		//  点击事件完了,应该直接换引用
		typeArray = [
			{
				type: 1,
				pageNo: 1,
			},
			{
				type: 2,
				pageNo: 1,
			}
		];
		console.log('点击事件Ajax');
		renderBillList(typeArray[index], $activeTabContent, true);
	});
	$('#clearContestantNumberInput').on('click', function () {
		$('#contestantNumberInput').val('');
		var $activeTab = $('.active-tab');
		var index = Number($activeTab.attr('data-tab'));
		if (index === 2) {
			return false;
		}
//        清空请输入编号input后的ajax
		console.log('清空请输入编号input后,就应该没有ajax了');
		$('#tab-content-' + index).html('');
		return;
		renderBillList(typeArray[index], $('#tab-content-' + index), true);
	});

	//上拉加载
	/****
	 * @typeData            控制请求数据的对象，是请求参数
	 * @$appendDOM          被append到的dom元素,一定是append,是否清空的判断来源下一个参数
	 * @isClearNeed         是否需要被清除？点击事件清除，滚动事件不清除，所以滚动事件不传值
	 * ***/
	function renderBillList(typeData, $appendDOM, isClearNeed) {
		if (typeData.type === 1) {
			var url = interfaceUrl + 'new_1 - 副本 (' + typeData.pageNo + ').json';
		} else {
			url = interfaceUrl + 'sort_1 - 副本 (' + typeData.pageNo + ').json';
		}
//        console.log(typeData);
		findOneAjax = $.ajax({
			url: interfaceUrl + "/findList",
			url: url,                                       //  monk数据，发版需注释
			type: "post",
			data: {
				type: typeData.type,
				pageNo: typeData.pageNo
			},
			success: function (res) {
//                debugger;
				isResponse = true;
				if (Number(res.code) !== 2000) {
					return false;
				}
				if (res.data.data.length === 0) {
					isResponse = false;         //  当前选项卡下,无法发送请求了,因为已经没有数据了
					return false;
				}
				typeData.pageNo = res.data.pageNo + 1;
				var isRepeat = false;
				var content = "";
				if (isClearNeed) {
					$appendDOM.html('');
				}
				$.each(res.data.data, function (i, item) {
					var peopleArea = "";
					var peopleType = "";
					switch (item.peopleArea) {
						case 1:
							peopleArea = "广州赛区";
							break;
						case 2:
							peopleArea = "遵义赛区";
							break;
						case 3:
							peopleArea = "中山赛区";
							break;
						default:
							peopleArea = "";
					}
					switch (item.peopleType) {
						case 1:
							peopleType = "前世女神(0-15岁)";
							break;
						case 2:
							peopleType = "最美女神(15-39岁)";
							break;
						case 3:
							peopleType = "资深女神(40岁及以上)";
							break;
						default:
							peopleType = "";
					}
					var image = '';
					if (item.peopleImage == "") {
						image = './static/image/aa.png'
					} else {
						image = item.peopleImage;
					}
					content += '<li><div style="width:100%;height:' + $(window).width() * 0.45 * 1.24 + 'px;overflow: hidden"><img class="main-img-cl" src="' + image + '" alt="" ></div>' +
						'<div class="tab-list-content"><p>' + peopleType + '</p>' +
						'<div class="clear"><span class="fl">名字:' + (item.peopleName ? item.peopleName : "") + '</span><span class="fr code-id" data-code="' + item.id + '">编号:' + (item.id ? item.id : "") + '</span></div>' +
						'<div class="clear"><span class="fl votesss" >票数:' + (item.peopleNum ? item.peopleNum : 0) + '</span><span class="fr">' + peopleArea + '</span></div><img class="heart-img" src="./static/image/heart-0.png" onclick="chooseNum(this ,' + item.id + ')"></div></li>';

					$.each($appendDOM.find('.code-id'), function (i, t) {
						var $t = $(t);
						var code = $t.attr('data-code');
						if (Number(code) === item.id) {
							// myAlert('重复了');
							isRepeat = true;
						}
					})
				});
				//  如果重复    ps,现在没可能的...
				if (isRepeat) {
					return false
				}
				$appendDOM.append(content);
				$appendDOM.find('.main-img-cl').one('load', function (e) {
					var productImage = $(e.target);
					var imgWidth = productImage.width();
					var imgHeight = productImage.height();
					var winWidth = productImage.parents('li').width();
					var winHeight = winWidth * 1.24;
					if (imgWidth / winWidth < imgHeight / winHeight) {
//                        var h = Math.max(imgHeight, winHeight);
//                        h = Math.min(h, winHeight);
//                        productImage.css('height', h);
//                        productImage.css('width', 'auto');
					} else {
						//  扁平图
						var w = Math.max(imgWidth, winWidth);
						w = Math.min(w, winWidth);
						productImage.css('width', w);
						productImage.css('height', 'auto');
					}
					setTimeout(function () {
						var div = productImage.parent('div');
//                        if (productImage.height() < div.height()) {
						productImage.css('margin-top', (div.height() - productImage.height()) / 2);
//                        }
					}, 0);
				});

				if ($document.height() <= $(window).height()) {
					//  typeData的pageNo
					//  继续累计图片，而不应该删除
					renderBillList(typeData, $appendDOM, false);
				}

			},
			error: function () {
				isResponse = true;
			}
		});
	}

	acountFn(0);

	function acountFn(type) {
		return
		$.ajax({
			url: interfaceUrl + "/match/count",
			type: "GET",
			success: function (response) {
				if (response.code == 2000) {
					//1 点赞
					if (type == 1) {
						$("#totalVotesNumber").text(response.data.totalVotesNumber);
					} else {
						$("#worksNumber").text(response.data.worksNumber);
						$("#totalVotesNumber").text(response.data.totalVotesNumber);
					}
				} else {
					myAlert(response.msg)
				}
			}
		})
	}

	//点赞
	function chooseNum(_this, id) {
		if (isClick) {
			isClick = false;
			$.ajax({
				url: interfaceUrl + "/match/vote",
				type: "post",
				data: {
					mid: getMid(),
					peopleId: id
				},
				success: function (res) {
					isClick = true;
					if (res.isSuccess) {
						$(_this).attr('src', './static/image/heart-1.png');
						acountFn(1);
						$(_this).parents('.tab-list-content').find('.votesss').html('票数:' + res.data.count);
					} else {
						if (res.code == '6000') {
							myAlert(res.msg)
						}
					}
				}
			})
		}
	}


	/**
	 *
	 * 直接引用这个对象,别取值  ！！！！！！
	 * 在注册的click事件里面直接换这个对象的引用
	 *
	 * */
		//  数组第一项，存放最新上传的type，pageNo
		//  数组第二项，存放排行榜单的type，pageNo
	var typeArray = [
			{
				type: 1,
				pageNo: 1,
			},
			{
				type: 2,
				pageNo: 1,
			}
		];


	$(document).on('scroll', function (e) {
		console.log('document scroll 了');
		var $this = $(this);
		var index = Number($('.active-tab').data('tab'));
		if (index === 2) {
			return false
		}
		if (!isResponse) {
			return false;
		}
//        console.log('屏幕' + limitHeight, 'scroll', ($this.scrollTop() + 50), '全文', $(document).height());
		if (limitHeight + $this.scrollTop() + 50 < $(document).height()) {
			return
		}
		//  保证任何滚动都只能发送一次请求
		isResponse = false;
		timer = setTimeout(function () {
//            console.log('屏幕,', limitHeight, 'scroll', ($this.scrollTop() + 50), '全文', $(document).height());
			console.log('滚动事件ajax');
			renderBillList(typeArray[index], $('#tab-content-' + index));
		}, 200);

	});
	//  reload页面 Ajax
	console.log('reload页面 Ajax');
	renderBillList(typeArray[0], $('#tab-content-0'));
</script>
<!--meta作用-->
<script>
	/***
	 * 使从index跳转判断
	 * ***/
	function GetQueryString(name) {
		var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
		var r = window.location.search.substr(1).match(reg);
		if (r != null) return unescape(r[2]);
		return null;
	}

	var state = GetQueryString('state');
	if (state === 'write') {
		$('#tab-controller li').eq(2)[0].click();
	}
</script>
<!--图片裁剪部分-->
<script>

	//  主要
	var picContainer = document.getElementById('picContainer');
	var picContainerStyle = picContainer.style;
	//  内图
	var cutPic = document.getElementById('cutPic');
	//  主图
	var mainPic = document.getElementById('mainPic');
	//  移动handle
	var moveHandle = document.getElementsByClassName('moveHandle');
	window.moveHandleStyle0 = moveHandle[0].style;
	window.moveHandleStyle1 = moveHandle[1].style;
	//  边
	var handle = document.getElementsByClassName('handle');

	cutPic.style.height = mainPic.clientHeight + 'px';
	cutPic.style.width = mainPic.clientWidth + 'px';
	picContainer.addEventListener('touchstart', toDown, false);
	picContainer.addEventListener('touchend', toUp, false);
	//  按下时,手的位置
	var touchStartX = 0;
	var touchStartY = 0;
	//  按下时,中间图的宽度
	var moveHandleWidth = 0;
	var moveHandleHeight = 0;
	//  按下时,中间图的位置
	var moveHandleTop = 0;
	var moveHandleLeft = 0;

	function toDown(e) {
		touchStartX = e.changedTouches[0].clientX;
		touchStartY = e.changedTouches[0].clientY;
		if (e.target.getAttribute('move') === 'move') {
			e.preventDefault();
			picContainer.addEventListener('touchmove', toMove, false);
			//  在手按下，而滑动以前，记录的 高亮块的大小与位置
			moveHandleWidth = parseFloat(getComputedStyle(moveHandle[0]).width);
			moveHandleHeight = parseFloat(getComputedStyle(moveHandle[0]).height);
			moveHandleTop = parseFloat(getComputedStyle(moveHandle[0]).top);
			moveHandleLeft = parseFloat(getComputedStyle(moveHandle[0]).left);
		}
	}

	function toMove(e) {
		limitSizeMoveObject();
		//  手的位置超过了可控范围
		//  左侧
		if (e.changedTouches[0].clientX < $(picContainer).offset().left) {
			console.log('左侧out');
			return;
		}
		//  上册
		if (e.changedTouches[0].clientY < $(picContainer).offset().top) {
			console.log('上册out');
			return;
		}
		//  右侧
		if (e.changedTouches[0].clientX > $(picContainer).offset().left + $(picContainer).width()) {
			console.log('右侧out');
			return;
		}
		//  下册
		if (e.changedTouches[0].clientY > $(picContainer).offset().top + $(picContainer).height()) {
			console.log('下册out');
			return;
		}
		//  手的位置相对移动了
		var _x = e.changedTouches[0].clientX - touchStartX;
		var _y = e.changedTouches[0].clientY - touchStartY;
		switch (rotateIndex) {
			case (1):
				var _temp = _x;
				_x = _y;
				_y = -_temp;
				break;
			case 2:
				_x = -_x;
				_y = -_y;
				break;
			case 3:
				var _temp = _x;
				_x = -_y;
				_y = _temp;
				break
		}
		//  中间图片的位置,限制上限,限制下限
		var _top = Math.max(moveHandleTop + _y, 0);
		_top = Math.min(_top + moveHandleHeight, mainPic.clientHeight) - moveHandleHeight + 'px';
//		if (parseInt(_top) === 0) {
//			_y = _pre_y
//		}
//		_pre_y = _y;
//		console.log(parseInt(_top));
//		console.log(parseInt(_y));
		var _left = Math.max(moveHandleLeft + _x, 0);
		_left = Math.min(_left + moveHandleWidth, mainPic.clientWidth) - moveHandleWidth + 'px';
		//  图片的高度,上移时的高度,下移时的高度,下移限制高度
		var _topHeight = moveHandleHeight - _y + 'px';
		var _bottomHeight = Math.min(moveHandleHeight + _y + moveHandleTop, mainPic.clientHeight) - moveHandleTop + 'px';
		//  图片的宽度,左移时的宽度,右移时的宽度,右移限制宽度
		var _leftWidth = moveHandleWidth - _x + 'px';
		var _rightWidth = Math.min(moveHandleWidth + _x + moveHandleLeft, mainPic.clientWidth) - moveHandleLeft + 'px';
//            console.log(_rightWidth,moveHandleWidth + _x + moveHandleLeft, mainPic.clientWidth);
		//  判断四个角落
		var attrCorner = e.target.getAttribute('corner') || e.target.getAttribute('subject');


		switch (attrCorner) {
			case 'top-right': {
				moveHandleStyle0.width = _rightWidth;
				moveHandleStyle0.height = _topHeight;
				moveHandleStyle0.top = _top;
				moveHandleStyle1.width = _rightWidth;
				moveHandleStyle1.height = _topHeight;
				moveHandleStyle1.top = _top;
				break;
			}
			case 'bottom-right': {
				moveHandleStyle0.width = _rightWidth;
				moveHandleStyle0.height = _bottomHeight;
				moveHandleStyle1.width = _rightWidth;
				moveHandleStyle1.height = _bottomHeight;
				break;
			}
			case 'top-left': {
				moveHandleStyle0.width = _leftWidth;
				moveHandleStyle0.left = _left;
				moveHandleStyle0.height = _topHeight;
				moveHandleStyle0.top = _top;
				moveHandleStyle1.width = _leftWidth;
				moveHandleStyle1.left = _left;
				moveHandleStyle1.height = _topHeight;
				moveHandleStyle1.top = _top;
				break;
			}
			case 'bottom-left': {
				moveHandleStyle0.left = _left;
				moveHandleStyle0.width = _leftWidth;
				moveHandleStyle0.height = _bottomHeight;
				moveHandleStyle1.left = _left;
				moveHandleStyle1.width = _leftWidth;
				moveHandleStyle1.height = _bottomHeight;
				break;
			}
			case 'subject':     //  判断本体
			{
				moveHandleStyle0.top = _top;
				moveHandleStyle0.left = _left;

				moveHandleStyle1.top = _top;
				moveHandleStyle1.left = _left;
				break
			}
		}
		limitSizeMoveObject();
		amendmentCutPic();
	}

	function toUp() {
		picContainer.removeEventListener('touchmove', toMove, false);
	}

	//  下一步
	var nextBtn = document.getElementById('nextBtn');
	var canvas = document.getElementById('canvas');
	var canvasPic = document.getElementById('canvasPic');
	var ctx = canvas.getContext('2d');
	//  预览图片
	var cutImg = null;
	//  完成按钮
	nextBtn.onclick = createImage;

	function createImage() {
		var effectLeft = moveHandle[0].offsetLeft / mainPic.clientWidth * canvasPic.width;
		var effectWidth = moveHandle[0].offsetWidth / mainPic.clientWidth * canvasPic.width;
		var effectTop = moveHandle[0].offsetTop / mainPic.clientHeight * canvasPic.height;
		var effectHeight = moveHandle[0].offsetHeight / mainPic.clientHeight * canvasPic.height;
		canvas.width = effectWidth;
		canvas.height = effectHeight;
		ctx.drawImage(mainPic, effectLeft, effectTop, effectWidth, effectHeight, 0, 0, effectWidth, effectHeight);
		var vote = Math.min(2000000 / (effectWidth * effectWidth), 1);
		cutImg = convertCanvasToImage(canvas, vote);
		//  别是什么乱起八早的别动我写的Ok?
		if (cutImg.src.length > 100) {
			closeInputFile();
		} else {
			myAlert('请选择图片');
		}
	}

	function convertCanvasToImage(canvas, vote) {
		var image = new Image();
		image.src = canvas.toDataURL(window.fileInputData.type, vote);
		return image;
	}

	//  选择图片的change事件
	fileInput.onchange = fIChange;

	function fIChange(e) {
		var file = fileInput.files[0];
		if (!file) {
			return false
		}
		//  将file信息暴露
		window.fileInputData = file;
		$uploadForm.hide();
		$container.show();
		//创建用来读取此文件的对象
		var reader = new FileReader();
		//读取文件成功后执行的方法函数
		reader.onload = function (e) {
			//读取成功后返回的一个参数e，整个的一个进度事件
			var result = e.target.result;
			canvasPic.src = result;
			mainPic.src = result;
			cutPic.src = result;
		};
		//使用该对象读取file文件
		reader.readAsDataURL(file);
		//  选择图片按钮
		var fileBtn = document.getElementById('fileBtn');
		fileBtn.innerHTML = '<input id="fileInput" type="file" accept="image/*"/>选择图片';
	}

	//  当选中的图片加载成功以后
	mainPic.onload = function () {
		limitSizeMainPic();
		calculateMoveObject();
		amendmentCutPic();
		rotateIndex = 0;
		makeRotate(rotateIndex);
	};

	var subContainer = document.getElementById('subContainer');


	//  图片默认宽高比，旋转用
	var picAspectRatio = 1;

	//  限制巨瘦的图
	function limitSizeMainPic() {
		//  图片宽高比
		var pic_rate = mainPic.clientHeight / mainPic.clientWidth;
		//  控制范围宽高比
		var win_rate = (subContainer.clientHeight - 100) / subContainer.clientWidth;

		picAspectRatio = pic_rate;
		if (pic_rate > win_rate && mainPic.clientHeight > subContainer.clientWidth - 100) {
			var diffW = subContainer.clientWidth / pic_rate * win_rate;
			picContainer.style.left = (subContainer.clientWidth - diffW ) / 2 + 'px';
			picContainer.style.width = diffW + 'px';
		} else {
			picContainer.style.left = 0;
			picContainer.style.width = '100%';
		}
	}

	//  计算高亮区域的大小
	function calculateMoveObject() {
		var clh = mainPic.clientHeight / 3 + 'px';
		var clw = mainPic.clientWidth / 3 + 'px';
		cutPic.style.height = mainPic.clientHeight + 'px';
		cutPic.style.width = mainPic.clientWidth + 'px';
		moveHandleStyle0.height = clh;
		moveHandleStyle1.height = clh;
		moveHandleStyle0.top = clh;
		moveHandleStyle1.top = clh;
		moveHandleStyle0.width = clw;
		moveHandleStyle1.width = clw;
		moveHandleStyle0.left = clw;
		moveHandleStyle1.left = clw;
	}

	//  修正中间图片的位置
	function amendmentCutPic() {
		cutPic.style.top = -moveHandle[0].offsetTop + 'px';
		cutPic.style.left = -moveHandle[0].offsetLeft + 'px';
	}

	//  限制中间高亮使不出框
	function limitSizeMoveObject() {
		var maxW = Math.min(moveHandle[0].clientWidth, mainPic.clientWidth) + 'px';
		var maxH = Math.min(moveHandle[0].clientHeight, mainPic.clientHeight) + 'px';
//		console.log(moveHandle[0].clientWidth, mainPic.clientWidth,maxW);
		moveHandleStyle0.width = maxW;
		moveHandleStyle1.width = maxW;
		moveHandleStyle0.height = maxH;
		moveHandleStyle1.height = maxH;
	}

	//  旋转
	var rotate = document.getElementById('rotate');
	rotate.onclick = function (e) {
		rotateIndex++;
		if (rotateIndex >= rotateArray.length) {
			rotateIndex = 0;
		}
		makeRotate(rotateIndex);

		//  当旋转90度的时候
		if (rotateIndex % 2) {
//			picContainerStyle.left = 0;
			//  如果原来是扁平图片
			if (picAspectRatio < 1) {
				picContainerStyle.left = -(picContainer.clientWidth - picContainer.clientHeight) / 2 + 'px';
				picContainerStyle.height = picContainer.clientWidth + 'px';
			} else {
//				var preHeight = picContainer.clientHeight;
//				picContainerStyle.width = Math.max(picContainer.clientWidth, subContainer.clientWidth) / picAspectRatio + 'px';
//				var marginValue = (preHeight - picContainer.clientWidth ) / 4;
//				picContainerStyle.margin = -marginValue + 'px ' + marginValue + 'px';
			}
		} else {
//			记录一下值吧。。。将来还原
			if (picAspectRatio < 1) {
				picContainerStyle.left = -(picContainer.clientWidth - picContainer.clientHeight) / 2 + 'px';
				picContainerStyle.height = picContainer.clientWidth + 'px';
			} else {

			}
		}

	};

	function makeRotate(index) {
		picContainerStyle.transform = rotateArray[index];
//		console.log(index);
	}

	var rotateArray = ['rotate(0deg)', 'rotate(90deg)', 'rotate(180deg)', 'rotate(270deg)'];
	var rotateIndex = 0;

	//  关闭上传图片的东西,全部,不清空表单
	function closeInputFile() {
//		console.log(cutImg.src.length);
		myUploadUrl = cutImg.src;                               //  monk数据，发版需注释
		$productImage.attr('src', cutImg.src + '');         //  monk数据，发版需注释
		$productImage.on('load', productImageLoad);         //  monk数据，发版需注释
		return;
		ajaxImage(cutImg.src, function (url) {
			myUploadUrl = url;
			$productImage.attr('src', cutImg.src + '');
			$productImage.on('load', productImageLoad);
		})
	}

	//  base64 Ajax成功以后的，form表单中的图片渲染成功后的load
	function productImageLoad() {
		backToForm();
		calculateProductImage();
	}

	//  计算在form中展示的图片的大小
	function calculateProductImage() {
		var imgWidth = $productImage.width();
		var imgHeight = $productImage.height();
		var winWidth = $uploadImg.width();
		var winHeight = $uploadImg.height();
		//  瘦高图
		if (imgWidth / winWidth < imgHeight / winHeight) {
			var h = Math.max(imgHeight, winHeight * 0.8);
			h = Math.min(h, winHeight * 0.8);
			$productImage.css('height', h);
			$productImage.css('width', 'auto');
		} else {
			//  扁平图
			var w = Math.max(imgWidth, winWidth * 0.8);
			w = Math.min(w, winWidth * 0.8);
			$productImage.css('width', w);
			$productImage.css('height', 'auto');
		}
	}

	//  ajax上传base64
	function ajaxImage(data, callback) {
		$.ajax({
			url: interfaceUrl + "/contribute/uploadImg",
			data: {
				fileStr: data
			},
			type: 'post',
			success: function (data) {
				if (Number(data.code) === 2000) {
					callback(data.data)
				}
			}
		})
	}
</script>
<!--其他功能-->
<script>
	/**
	 * myAlert的js
	 * **/
		//  myAlert的mask
	var $mask = $('#mask');

	function myAlert(msg) {
		$mask.show();
		$('#maskText').find('span').eq(0).html(msg);
	}

	$mask.on('click', function () {
		$mask.hide();
	});

	/*********
	 * 表单提交
	 * */
		//  控制$('[name=peopleType]')的宽度
	var $peopleType = $('[name=peopleType]');
	$peopleType.on('change', function () {
		contrllWidth();
	});
	contrllWidth();

	function contrllWidth() {
		var len = $peopleType.val();
		switch (len) {
			case '请选择':
				$peopleType.width(77);
				break;

			case '前世女神(0-15岁)':
				$peopleType.width(128);
				break;

			case '最美女神(15-39岁)':
				$peopleType.width(140);
				break;

			case '资深女神(40岁及以上)':
				$peopleType.width(163);
				break;
		}
	}

	//  点击上传图片或横屏拍照，触发type=file 的 input
	$productImage.on('click', function (e) {
		$container.css('height', $window.height() + 5);
		$document.scrollTop(5);
		fileInput.click();
	});

	//  form表单提交
	$('#uploadBtn').on('click', function () {
		var data = {};
		var isTrue = false;
		$('input[name=peopleImage]').val(myUploadUrl);
		$('.form-input').each(function (i, t) {
			console.log(t.value);
			if ($.trim(t.value) === '' || ($.trim(t.value) === '请选择' && $(t).attr('name') === 'peopleType')) {
				myAlert($(t).attr('data-msg'));
				isTrue = true;
				return false;
			}
			data[t.name] = t.value;
		});
		if (isTrue) {
			return false;
		}

		switch ($peopleType.val()) {
			case '请选择':
				data.peopleType = '';
				break;

			case '前世女神(0-15岁)':
				data.peopleType = '1';
				break;

			case '最美女神(15-39岁)':
				data.peopleType = '2';
				break;

			case '资深女神(40岁及以上)':
				data.peopleType = '3';
				break;
		}

		var TEL_REGEXP = /^1([38]\d|5[0-35-9]|7[3678])\d{8}$/;

		function validateTel(tel) {
			return TEL_REGEXP.test(tel)
		}


		if (!validateTel(data.peoplePhone)) {
			myAlert('手机号格式错误');
			return false;
		}

		// alert(JSON.stringify(data));
		data.peopleImage = myUploadUrl;
		data.mid = getMid();
		//  表单提交
		$.ajax({
			url: interfaceUrl + '/contribute/save',
			data: data,
			type: 'post',
			success: function (response) {
				if (Number(response.code) === 2000) {
					window.location.replace('detail.html?state=none');
				} else {
					myAlert(response.msg);
				}
			},
			error: function (err) {
				myAlert('提交表单失败');
				myAlert(err);
			}
		})
	});

	/*****
	 * 图片上传页面不可滚动，防止Android触发刷新页面
	 * ****/
	$container[0].addEventListener('touchmove', returnFn, {passive: false});

	function returnFn(e) {
		e.preventDefault && e.preventDefault();
		e.returnValue = false;
		e.stopPropagation && e.stopPropagation();
		return false;
	}

	/***
	 * 从图片裁剪页面返回到表单提交页
	 * */
	$('#back').on('click', backToForm);

	function backToForm() {
		$container.hide();
		$uploadForm.show();
		fileInput = document.getElementById('fileInput');
		fileInput.onchange = fIChange;
	}
</script>
<!--临时-->
<script>

</script>
</body>
</html>
